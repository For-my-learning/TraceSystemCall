# TraceSystemCall
for learning linux kernel ,   system programmin, low level programming

```
fork() 後
親プロセス (child > 0)
┌─────────────┐
│ 親のメモリ  │
└─────────────┘

子プロセス (child == 0)
┌─────────────┐
│ 子のメモリ  │
│ tracer 子コード │
└─────────────┘
        │ execvp(argv[1], &argv[1]) 成功
        ▼
┌─────────────┐
│ 子のメモリ  │
│ 新しいプログラム │  ← 置き換わる
└─────────────┘

```

## exec 系は プロセス自体を別のプログラムで置き換える特殊関数

- 成功すると元のコードは「存在しないもの」となるので、exec 後のコードは実行されない

- 失敗した場合のみ、後ろのエラー処理コードに到達する


## execvp が置き換える「現在のプロセス」

- execvp は 呼び出したプロセス自身 を置き換える
  

- この場合、呼んでいるのは 子プロセス なので、置き換わるのは 子プロセスのメモリ空間

コード領域（text）

データ領域（data）

スタック

ヒープ


- 親プロセスのメモリは 影響を受けない


## fork() 呼び出し
```
[親プロセス] ← child = 子の PID (>0)
    → 子を監視する
[子プロセス] ← child = 0
    → 自分を親に監視させる
```
